---
description: 项目级规则 - CodeBuddy 双层 Spec 驱动开发
alwaysApply: true
enabled: true
---

本项目采取双层 spec 驱动 AI 编码的开发方式，请严格遵循以下规则：

## 1. 开发模式
- AI 执行行级编码，人类与 AI 协作进行 Spec 维护

## 2. Spec 存放规则
- 全部 spec 存放在 `./spec` 文件夹下
- 除非用户直接要求，否则不要增加新的 spec 以及在 spec 内扩展新的内容种类

## 3. Spec 分层结构
- **Me2AI** 层（`./spec/Me2AI/`）：完全由用户维护
- **AI2AI** 层（`./spec/AI2AI/`）：完全由 AI 维护

## 4. Me2AI 文档（设计意图与技术约束）
**定位**：设计意图传达以及技术约束

**工作流程**：
- ✅ 在意图识别和任务规划时，**必须**先读取其中相关内容
- ✅ `Me2AI/需求描述.md` - 需求细节描述
- ✅ `Me2AI/技术约束.md` - 架构和技术栈要求（违反时必须先询问）
- ⚠️ `Me2AI/任务规划.md` - 用户记录任务规划，AI 不用关注

## 5. AI2AI 文档（代码状态结构化总结）
**定位**：对当前代码状态的结构化总结

**工作流程**：
- ✅ 在任务规划和编码前，**必须**结构化读取相关内容以建立对工程的系统认知
- ✅ 在任务完成后，**必须**检查维护 AI2AI 中的文档，确保文档总是能体现工程的最新状态

**文档内容**：
- `AI2AI/前端架构信息.md` - 前端的目录结构（目录即架构），以及各个模块的外部特性
- `AI2AI/后端架构信息.md` - 后端的目录结构（目录即架构），以及各个模块的外部特性
- `AI2AI/协议和数据.md` - 前后端协议，以及数据库设计

## 6. 开发阶段注意事项
- 项目尚处开发阶段，数据表发生更改时不用迁移数据库数据，直接重新初始化数据库即可
